from calibre.web.feeds.news import BasicNewsRecipe
from calibre.ebooks.BeautifulSoup import BeautifulSoup
import re

class Details(BasicNewsRecipe):
	title			   = u'Details'
	__author__		  = 'Andromeda Rabbit'
	description		 = 'Details Magazine'
	language			= 'en'
	use_embedded_content = False
	no_stylesheets	  = True
	oldest_article	  = 31
	remove_javascript   = True
	remove_empty_feeds	= True
	max_articles_per_feed = 300

	feeds = [(u'Culture + Trends', u'http://www.details.com/services/rss/feeds/culture_trends.xml'), (u'Style + Advice', u'http://www.details.com/services/rss/feeds/style_advice.xml'), (u'Celebrities + Enterainment', u'http://www.details.com/services/rss/feeds/celebrities_entertainment.xml'), (u'Sex + Relationships', u'http://www.details.com/services/rss/feeds/sex_relationships.xml')]

	remove_tags = [dict(attrs={'id':'header'}), dict(attrs={'id':'printoptions'}), dict(attrs={'class':'keywords'}), dict(attrs={'class':'utilities utilities-fblike-twitter bottom'}), dict(attrs={'class':'utilities utilities-bottom'}), dict(attrs={'class':'rubric'})]

	
	def get_cover_url(self):
		return 'http://www.details.com/images/magazine/DETAILS_tablet1_harticle_embed.jpg'

	 
	def print_version(self, url):
		print_url = url + '?printable=true'
		return print_url
